<?php

namespace Thunderlabid\Otorisasi\Models;

/*
	Frameworks
 */
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

/*
	Exception
 */

class Scope extends Model
{
	use SoftDeletes;

	protected $table            = 'o_scopes';

	protected $fillable         =   [
										'scope',
										'tanggal_kadaluarsa',
										'user_id',
										'tenant_id'
									];

	protected $dates            =   [  
										'deleted_at', ''
									];

	public $rules               =   [
                                        'scope'					=> ['required', 'max:255'],
										'user_id'				=> ['required'],
										'tenant_id'				=> ['required'],
										'tanggal_kadaluarsa'	=> ['nullable', 'date_format:"Y-m-d H:i:s"'],
									];
									
	protected $casts			=	[
									];

	public $timestamps        	=   true;

	// ----------------------------------------------------------------------------------------------------
	// BOOT
	// ----------------------------------------------------------------------------------------------------

	// ----------------------------------------------------------------------------------------------------
	// CONSTRUCT
	// ----------------------------------------------------------------------------------------------------

	// ----------------------------------------------------------------------------------------------------
	// RELATION
	// ----------------------------------------------------------------------------------------------------

	// ----------------------------------------------------------------------------------------------------
	// MUTATOR
	// ----------------------------------------------------------------------------------------------------

	// ----------------------------------------------------------------------------------------------------
	// ACCESSOR
	// ----------------------------------------------------------------------------------------------------
	
	// ----------------------------------------------------------------------------------------------------
	// FUNCTION
	// ----------------------------------------------------------------------------------------------------
	
	// ----------------------------------------------------------------------------------------------------
	// SCOPE
	// ----------------------------------------------------------------------------------------------------
	public function scopeUserId($q, String $v)
	{
		return $q->where('user_id', 'like', $v);
	}
}
